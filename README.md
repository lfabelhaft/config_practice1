1. –û–±—â–µ–µ –æ–ø–∏—Å–∞–Ω–∏–µ

–≠–º—É–ª—è—Ç–æ—Ä –∫–æ–º–∞–Ω–¥–Ω–æ–π –æ–±–æ–ª–æ—á–∫–∏ ‚Äî —ç—Ç–æ –∫–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –∏–º–∏—Ç–∏—Ä—É—é—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ UNIX-–ø–æ–¥–æ–±–Ω–æ–≥–æ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.
–ü—Ä–æ–≥—Ä–∞–º–º–∞ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –≤–≤–æ–¥ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –∫–æ–º–∞–Ω–¥ –≤ –∏–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–æ–º —Ä–µ–∂–∏–º–µ, —á—Ç–µ–Ω–∏–µ —Å—Ç–∞—Ä—Ç–æ–≤—ã—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤, —Ä–∞–±–æ—Ç—É —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π (VFS) –∏ –±–∞–∑–æ–≤—ã–µ –∫–æ–º–∞–Ω–¥—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ (ls, cd, echo, find, chmod, cp).

–¶–µ–ª—å –ø—Ä–æ–µ–∫—Ç–∞ ‚Äî –ø—Ä–æ–¥–µ–º–æ–Ω—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—é REPL-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞ (Read‚ÄìEval‚ÄìPrint Loop), –ø–∞—Ä—Å–∏–Ω–≥ –∫–æ–º–∞–Ω–¥, —Ä–∞–±–æ—Ç—É —Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π –∏ –ø–æ–¥–¥–µ—Ä–∂–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

project/
‚îÇ
‚îú‚îÄ‚îÄ stage1.py              # –≠—Ç–∞–ø 1 ‚Äî REPL, –±–∞–∑–æ–≤—ã–π –≤–≤–æ–¥ –∏ –∑–∞–≥–ª—É—à–∫–∏ –∫–æ–º–∞–Ω–¥
‚îú‚îÄ‚îÄ stage2.py              # –≠—Ç–∞–ø 2 ‚Äî –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∞ —Å—Ç–∞—Ä—Ç–æ–≤–æ–≥–æ —Å–∫—Ä–∏–ø—Ç–∞
‚îú‚îÄ‚îÄ stage3.py              # –≠—Ç–∞–ø 3 ‚Äî –ü–æ–¥–∫–ª—é—á–µ–Ω–∏–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã (VFS)
‚îú‚îÄ‚îÄ stage4.py              # –≠—Ç–∞–ø 4 ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è echo, find –∏ –ª–æ–≥–∏–∫–∏ ls, cd
‚îú‚îÄ‚îÄ stage5.py              # –≠—Ç–∞–ø 5 ‚Äî –†–µ–∞–ª–∏–∑–∞—Ü–∏—è chmod –∏ cp (–º–æ–¥–∏—Ñ–∏–∫–∞—Ü–∏—è VFS)
‚îÇ
‚îú‚îÄ‚îÄ start_script1.txt      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ 1
‚îú‚îÄ‚îÄ start_script2.txt      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ 2
‚îú‚îÄ‚îÄ start_script3.txt      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ 3
‚îú‚îÄ‚îÄ start_script4.txt      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ 4
‚îú‚îÄ‚îÄ start_script5.txt      # –°–∫—Ä–∏–ø—Ç –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —ç—Ç–∞–ø–∞ 5
‚îÇ
‚îú‚îÄ‚îÄ make_vfs.sh            # –°–∫—Ä–∏–ø—Ç –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –±–∞–∑–æ–≤–æ–π VFS –≤ —Ñ–æ—Ä–º–∞—Ç–µ JSON
‚îú‚îÄ‚îÄ vfs.json               # –û—Å–Ω–æ–≤–Ω–∞—è –≤–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞
‚îú‚îÄ‚îÄ vfs_minimal.sh         # –°–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–Ω–∏—è –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ VFS
‚îÇ
‚îî‚îÄ‚îÄ README.md              # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞

2. –û–ø–∏—Å–∞–Ω–∏–µ —Ñ—É–Ω–∫—Ü–∏–π –∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫

–û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:
 ‚Ä¢ REPL (Read‚ÄìEval‚ÄìPrint Loop) ‚Äî –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π –≤–≤–æ–¥ –∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –∫–æ–º–∞–Ω–¥.
 ‚Ä¢ –ü–∞—Ä—Å–µ—Ä –∫–æ–º–∞–Ω–¥ ‚Äî —Ä–∞–∑–±–∏—Ä–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã, –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫—É –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö —Å—Ä–µ–¥—ã $HOME, $USER –∏ –¥—Ä.
 ‚Ä¢ VFS (Virtual File System) ‚Äî —Ö—Ä–∞–Ω–∏—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –∑–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ JSON.
 ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–æ–º–∞–Ω–¥:
 ‚Ä¢ ls [–ø—É—Ç—å] ‚Äî –≤—ã–≤–æ–¥ —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
 ‚Ä¢ cd [–ø—É—Ç—å] ‚Äî —Å–º–µ–Ω–∞ —Ç–µ–∫—É—â–µ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏.
 ‚Ä¢ echo [—Ç–µ–∫—Å—Ç] ‚Äî –≤—ã–≤–æ–¥ —Ç–µ–∫—Å—Ç–∞ (—Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è).
 ‚Ä¢ find [–∏–º—è] ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–∞/–¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –ø–æ –∏–º–µ–Ω–∏.
 ‚Ä¢ chmod [–ø—É—Ç—å] [–ø—Ä–∞–≤–∞] ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ —Ñ–∞–π–ª–∞ (—ç–º—É–ª—è—Ü–∏—è).
 ‚Ä¢ cp [–∏—Å—Ç–æ—á–Ω–∏–∫] [–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ] ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞.
 ‚Ä¢ vfs-init ‚Äî —Å–±—Ä–æ—Å –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã.
 ‚Ä¢ exit ‚Äî –≤—ã—Ö–æ–¥ –∏–∑ –ø—Ä–æ–≥—Ä–∞–º–º—ã.

 –ü–∞—Ä–∞–º–µ—Ç—Ä—ã –∑–∞–ø—É—Å–∫–∞:

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ :
–ü–∞—Ä–∞–º–µ—Ç—Ä –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ
--vfs –ø—É—Ç—å –∫ JSON-—Ñ–∞–π–ª—É –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã
--script –ø—É—Ç—å –∫ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º—É —Å–∫—Ä–∏–ø—Ç—É –∫–æ–º–∞–Ω–¥
--debug (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ) –≤–∫–ª—é—á–∞–µ—Ç –æ—Ç–ª–∞–¥–æ—á–Ω—ã–π –≤—ã–≤–æ–¥ –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤


 –û–ø–∏—Å–∞–Ω–∏–µ —ç—Ç–∞–ø–æ–≤ —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

–≠—Ç–∞–ø 1. REPL ‚Äî –±–∞–∑–æ–≤—ã–π –ø—Ä–æ—Ç–æ—Ç–∏–ø
 ‚Ä¢ –ö–æ–Ω—Å–æ–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ —Å —Ü–∏–∫–ª–æ–º –≤–≤–æ–¥ ‚Üí –æ–±—Ä–∞–±–æ—Ç–∫–∞ ‚Üí –≤—ã–≤–æ–¥.
 ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã-–∑–∞–≥–ª—É—à–∫–∏: ls, cd, exit.
 ‚Ä¢ –ü–∞—Ä—Å–µ—Ä –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ—Ç –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è ($HOME, $USER).
 ‚Ä¢ –í—ã–≤–æ–¥–∏—Ç –æ—à–∏–±–∫–∏ –ø—Ä–∏ –Ω–µ–∏–∑–≤–µ—Å—Ç–Ω—ã—Ö –∫–æ–º–∞–Ω–¥–∞—Ö.

–ó–∞–ø—É—Å–∫:

python3 stage1.py

–ü—Ä–∏–º–µ—Ä —Å–µ—Å—Å–∏–∏:

VFS> ls
–ö–æ–º–∞–Ω–¥–∞: ls, –∞—Ä–≥—É–º–µ–Ω—Ç—ã: []
VFS> cd /home
–ö–æ–º–∞–Ω–¥–∞: cd, –∞—Ä–≥—É–º–µ–Ω—Ç—ã: ['/home']
VFS> exit
–í—ã—Ö–æ–¥ –∏–∑ —ç–º—É–ª—è—Ç–æ—Ä–∞.


–≠—Ç–∞–ø 2. –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
 ‚Ä¢ –î–æ–±–∞–≤–ª–µ–Ω—ã –ø–∞—Ä–∞–º–µ—Ç—Ä—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
 ‚Ä¢ --vfs <–ø—É—Ç—å> ‚Äî –ø—É—Ç—å –∫ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–π —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–µ (JSON);
 ‚Ä¢ --script <–ø—É—Ç—å> ‚Äî –ø—É—Ç—å –∫ —Å—Ç–∞—Ä—Ç–æ–≤–æ–º—É —Å–∫—Ä–∏–ø—Ç—É –∫–æ–º–∞–Ω–¥.
 ‚Ä¢ –≠–º—É–ª—è—Ç–æ—Ä –º–æ–∂–µ—Ç –≤—ã–ø–æ–ª–Ω—è—Ç—å –∫–æ–º–∞–Ω–¥—ã –∏–∑ —Ñ–∞–π–ª–∞.
 ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏ –≤ —Å–∫—Ä–∏–ø—Ç–∞—Ö (# –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π).

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

python3 stage2.py --vfs ./vfs.json --script ./start_script2.txt

–§—Ä–∞–≥–º–µ–Ω—Ç —Å–∫—Ä–∏–ø—Ç–∞:

# –¢–µ—Å—Ç –±–∞–∑–æ–≤—ã—Ö –∫–æ–º–∞–Ω–¥
ls
cd /home/user
echo $HOME
exit

–≠—Ç–∞–ø 3. –í–∏—Ä—Ç—É–∞–ª—å–Ω–∞—è —Ñ–∞–π–ª–æ–≤–∞—è —Å–∏—Å—Ç–µ–º–∞ (VFS)
 ‚Ä¢ –ó–∞–≥—Ä—É–∂–∞–µ—Ç—Å—è –∏–∑ vfs.json –≤ –æ–ø–µ—Ä–∞—Ç–∏–≤–Ω—É—é –ø–∞–º—è—Ç—å.
 ‚Ä¢ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞—é—Ç—Å—è –∫–æ–º–∞–Ω–¥—ã:
 ‚Ä¢ vfs-init ‚Äî —Å–±—Ä–æ—Å VFS –∫ —Å–æ—Å—Ç–æ—è–Ω–∏—é –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é.
 ‚Ä¢ ls, cd ‚Äî –Ω–∞–≤–∏–≥–∞—Ü–∏—è –ø–æ —Å—Ç—Ä—É–∫—Ç—É—Ä–µ VFS.
 ‚Ä¢ –í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ø–∞–º—è—Ç–∏, –±–µ–∑ —Ä–µ–∞–ª—å–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏–π.

–ü—Ä–∏–º–µ—Ä VFS (vfs.json):

{
  "root": {
    "home": {
      "user": {
        "docs": {
          "readme.txt": "Hello from VFS!"
        }
      }
    },
    "bin": {},
    "tmp": {}
  }
}


–≠—Ç–∞–ø 4. –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã UNIX

–î–æ–±–∞–≤–ª–µ–Ω—ã:
 ‚Ä¢ echo [—Ç–µ–∫—Å—Ç] ‚Äî –≤—ã–≤–æ–¥ —Å—Ç—Ä–æ–∫–∏ (—Å –ø–æ–¥—Å—Ç–∞–Ω–æ–≤–∫–æ–π –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö);
 ‚Ä¢ find [–∏–º—è] ‚Äî –ø–æ–∏—Å–∫ —Ñ–∞–π–ª–æ–≤/–ø–∞–ø–æ–∫ –≤ —Ç–µ–∫—É—â–µ–º –∫–∞—Ç–∞–ª–æ–≥–µ –∏ –ø–æ–¥–∫–∞—Ç–∞–ª–æ–≥–∞—Ö.

–ü—Ä–∏–º–µ—Ä –∑–∞–ø—É—Å–∫–∞:

python3 stage4.py --vfs ./vfs.json --script ./start_script4.txt

–ü—Ä–∏–º–µ—Ä —Ä–∞–±–æ—Ç—ã:

VFS> echo $USER
leah
VFS> find readme.txt
/root/home/user/docs/readme.txt



–≠—Ç–∞–ø 5. –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∫–æ–º–∞–Ω–¥—ã, –º–æ–¥–∏—Ñ–∏—Ü–∏—Ä—É—é—â–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ VFS –≤ –ø–∞–º—è—Ç–∏:
 ‚Ä¢ chmod [–ø—É—Ç—å] [–ø—Ä–∞–≤–∞] ‚Äî –∏–∑–º–µ–Ω–µ–Ω–∏–µ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ (—ç–º—É–ª—è—Ü–∏—è);
 ‚Ä¢ cp [–∏—Å—Ç–æ—á–Ω–∏–∫] [–Ω–∞–∑–Ω–∞—á–µ–Ω–∏–µ] ‚Äî –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ñ–∞–π–ª–∞ –∏–ª–∏ –∫–∞—Ç–∞–ª–æ–≥–∞....

